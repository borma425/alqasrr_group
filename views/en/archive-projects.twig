{% extends "en/base.twig" %}

{% block grid_content %}





        <!-- Hero Section -->
        <section class="hero">
            {% if projects_background_image %}
                <img src="{{ projects_background_image }}" alt="" class="hero-bg" />
            {% else %}
                <img src="{{ asset_url('image.png', '/img/home/hero/') }}" alt="" class="hero-bg" />
            {% endif %}
            <div class="hero-content">
                <h1 class="hero-title">{{ projects_hero_title|default('Our Projects') }}</h1>
                <p class="hero-subtitle">{{ projects_hero_description|default('Discover premium real estate projects across global markets.') }}</p>
            </div>
        </section>

        <!-- Filter Section -->
        <section class="filter-section">
            <div class="container-wide">
                <form id="projects-filter-form" class="filter-container" method="get">
                    <div class="filter-controls">
                        <h2 class="filter-title">Filter By</h2>
                        <div class="filter-dropdowns">
                            <div class="filter-dropdown-wrapper">
                                <select id="filter-location" class="filter-dropdown" name="city">
                                    <option value="">Project Location</option>
                                    {% if cities %}
                                        {% for city in cities %}
                                            <option value="{{ city.slug }}"{% if selected_city and selected_city == city.slug %} selected="selected"{% endif %}>
                                                {{ city.name }}
                                            </option>
                                        {% endfor %}
                                    {% endif %}
                                </select>
                                <img src="{{ asset_url('arrow-down.svg', '/img/main/') }}" alt=""
                                    class="filter-arrow" />
                            </div>
                            <div class="filter-dropdown-wrapper">
                                <select id="filter-type" class="filter-dropdown" name="project_type">
                                    <option value="">Project Type</option>
                                    {% if project_types %}
                                        {% for project_type in project_types %}
                                            <option value="{{ project_type.slug }}"{% if selected_project_type and selected_project_type == project_type.slug %} selected="selected"{% endif %}>
                                                {{ project_type.name }}
                                            </option>
                                        {% endfor %}
                                    {% endif %}
                                </select>
                                <img src="{{ asset_url('arrow-down.svg', '/img/main/') }}" alt=""
                                    class="filter-arrow" />
                            </div>
                        </div>
                    </div>

                    <div class="search-bar">
                        <div class="search-input">
                            <img src="{{ asset_url('search-normal.svg', '/img/main/') }}" alt=""
                                class="w-6 h-6" />
                            <input type="text" placeholder="Search..." id="search-input" name="search" value="{{ search_query|default('') }}" />
                        </div>

                        <button class="search-button" type="submit">Search</button>
                    </div>

                </form>
            </div>
        </section>

        <!-- Featured Project -->
        <section class="featured-project">
            <div class="container-wide">
                <div class="project-card-large">
                    {% if featured_post %}
                        {% if featured_post.thumbnail %}
                            <img src="{{ featured_post.thumbnail.src('large') }}" alt="{{ featured_post.title }}"
                                class="project-image-large" />
                        {% else %}
                            <img src="{{ asset_url('no_image_1200x627.png', '/img/default/') }}" alt="{{ featured_post.title }}"
                                class="project-image-large" />
                        {% endif %}
                        <div class="project-overlay">
                            <div class="project-content-large">
                                <div class="project-info">
                                    <div class="project-header">
                                        {% if featured_post.cities %}
                                            <span class="project-location">{{ featured_post.cities[0].name }}</span>
                                        {% endif %}
                                        <h3 class="project-title-large">{{ featured_post.title }}</h3>
                                    </div>
                                    <p class="project-description">
                                        {{ featured_post.excerpt|default(featured_post.content|excerpt(30)) }}
                                    </p>
                                </div>
                                <a href="{{ featured_post.link }}" class="btn-secondary">
                                    <span>Learn More</span>
                            <img src="{{ asset_url('arrow-right.svg', '/img/main/') }}" alt=""
                                class="w-6 h-6" />
                                </a>
                            </div>
                        </div>

                    {% endif %}
                </div>
            </div>
        </section>

        <!-- Projects Grid -->
        <section class="projects-grid">
            <div class="container-wide">
                <div class="grid-container">
                    {% if grid_posts %}
                        {% for post in grid_posts %}
                        <article class="project-card" 
                            data-location="{% if post.cities %}{{ post.cities[0].slug }}{% endif %}" 
                            data-location-label="{% if post.cities %}{{ post.cities[0].name|lower }}{% endif %}"
                            data-type="{% if post.project_types %}{{ post.project_types[0].slug }}{% endif %}"
                            data-type-label="{% if post.project_types %}{{ post.project_types[0].name|lower }}{% endif %}">
                            <div class="project-image-wrapper">
                                {% if post.thumbnail %}
                                    <img src="{{ post.thumbnail.src('full') }}" alt="{{ post.title }}"
                                        class="project-image" />
                                {% else %}
                                    <img src="{{ asset_url('image-3.png', '/img/home/projects/') }}" alt="{{ post.title }}"
                                        class="project-image" />
                                {% endif %}
                                {% if post.cities %}
                                    <span class="project-badge">{{ post.cities[0].name }}</span>
                                {% endif %}
                            </div>
                            <div class="project-details">
                                <div class="project-text">
                                    <h3 class="project-title">{{ post.title }}</h3>
                                    <p class="project-desc">
                                        {{ post.excerpt|default(post.content|excerpt(30)) }}
                                    </p>
                                </div>
                                <a href="{{ post.link }}" class="btn-outline">
                                    <span>Learn More</span>
                                </a>
                            </div>
                        </article>
                        {% endfor %}
                    {% endif %}
                </div>


{% include 'en/main/pagination.twig' %}

            </div>
        </section>






{% endblock %}

